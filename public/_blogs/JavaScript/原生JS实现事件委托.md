# 原生JS实现事件委托

## 一. 事件委托

1. 什么是事件委托？

   > 事件委托就是利用事件冒泡，知指定一个事件处理程序，就可以管理某一类型的所有事件
   >
   > 事件委托就是把目标节点的事件绑定到祖先节点上，这种简单优雅的事件注册方式是基于事件传播过程中，逐层冒泡总能被祖先节点捕获的性质

2. 事件委托的优点

   1. 节省监听数，节省内存

      * 大量相同子节点时，例如绑定棋盘棋子的点击事件

      1. 方案一，循环遍历为所有棋子绑定事件
      2. 方案二，为棋盘绑定一个事件委托，在事件委托中获取当前点击棋子处理逻辑

   2. 可以监听动态元素

      * 当div内的button是动态生成时，事件委托也可以”监听“button的事件

## 二.阻止默认动作

1. 在支持addEventListener()的浏览器中，可以调用事件对象的preventDefault()方法取消事件的默认操作
2. 在IE9之前的IE中，可以通过设置事件对象的returnValue属性为false取消事件默认操作

## 三.JavaScript事件阶段

> - **捕获阶段**：事件从父元素开始向目标元素传播，从 `Window` 对象开始传播。
> - **目标阶段**：该事件到达目标元素或开始该事件的元素。
> - **冒泡阶段**：这时与捕获阶段相反，事件向父元素传播，直到 `Window` 对象。

* 可以在利用addEventListener()添加事件监听时设置第三个参数设置捕获阶段（true）和冒泡阶段生效（false-默认）


* 为什么要防止事件传播

  > * 有时，如果事件冒泡和捕捉开始不受我们控制地传播时，就会让人感到厌烦。
  > * 如果你有一个严重嵌套的元素结构，这也会导致性能问题，因为每个事件都会创建一个新的事件周期。

* 阻止事件冒泡：event.stopPropagation();

* 阻止事件捕获：event.stopImmediatePropagation();